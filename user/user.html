<template x-if="accessToken && roomId">
  <div class="p-4 bg-gray-50 border-l border-gray-200 h-full flex flex-col">

    <h2 class="text-xl font-bold mb-4 text-indigo-700">Users</h2>

    <div class="flex-1 overflow-y-auto">
      <template x-if="roomMembers.length === 0">
        <p class="text-sm text-gray-500 italic">No members found...</p>
      </template>

      <ul class="space-y-2">
        <template x-for="member in roomMembers" :key="member.userId">
          <li class="flex items-center justify-between bg-gray-100 px-3 py-2 rounded-lg">

            <div class="flex items-center space-x-2">
              <span class="w-2 h-2 bg-green-500 rounded-full"></span>

              <div class="flex flex-col">
                <span class="font-medium text-gray-900" x-text="member.displayName"></span>
                <span class="text-xs text-gray-600 cursor-pointer hover:underline"
                  @click="$clipboard(member.userId)"
                  x-text="member.userId">
                </span>
              </div>
            </div>

            <button
              @click="kickUser(member.userId)"
              class="text-red-600 hover:text-red-800 text-sm font-semibold"
              x-show="member.userId !== userId"
            >
              Kick
            </button>

          </li>
        </template>
      </ul>
    </div>

    <button
      @click="leaveRoom()"
      class="mt-4 bg-red-500 text-white p-2 rounded hover:bg-red-600 transition"
    >
      Leave room
    </button>

  </div>
</template>


